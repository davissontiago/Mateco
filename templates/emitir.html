{% extends 'base.html' %}
{% load static %} {% block title %}Frente de Caixa{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/emitir.css' %}">
{% endblock %}

{% block content %}
<div class="container-pdv">
    <h1>Frente de Caixa</h1>

    <div class="area-busca">
        <input type="text" id="buscaInput" class="input-busca" placeholder="ðŸ” Buscar produto..." autocomplete="off">
        <div id="listaSugestoes" class="sugestoes-lista"></div>
    </div>

    <div class="carrinho" id="carrinhoVisual">
        <div style="text-align: center; color: #bbb; padding: 30px 0;">
            ðŸ›’ Seu carrinho estÃ¡ vazio
        </div>
    </div>

    <div class="secao-inferior">
        <div class="total-display" id="totalDisplay">R$ 0,00</div>

        <div class="area-acoes">
            <input type="number" id="valorAlvoInput" class="input-valor" placeholder="Meta (R$)" inputmode="decimal">
            <button class="btn-completar" onclick="completarValor()">âš¡ Completar</button>
            <button class="btn-refazer" onclick="refazerSimulacao()" title="Tentar outros produtos">ðŸ”„</button>
        </div>

        <button class="btn-emitir" id="btnEmitir" onclick="emitirNota()" disabled>EMITIR NOTA</button>
        <button class="btn-limpar" onclick="limparCarrinho()">Limpar Carrinho</button>
        
        <div id="status"></div>
    </div>

    <dialog id="modalQuantidade">
        <div class="modal-titulo">Quantas unidades?</div>
        <div id="nomeProdModal" class="modal-prod-nome">...</div>
        
        <input type="number" id="qtdInputModal" class="input-qtd" value="1" min="1" inputmode="numeric">
        
        <div class="modal-btn-area">
            <button class="btn-cancelar" onclick="fecharModalQtd()">Cancelar</button>
            <button class="btn-confirmar" onclick="confirmarAdicaoManual()">ADICIONAR</button>
        </div>
    </dialog>
    
    {% csrf_token %}
</div>
{% endblock %}

{% block scripts %}
    <script src="{% static 'js/emitir.js' %}"></script>
{% endblock %}